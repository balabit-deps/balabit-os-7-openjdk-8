# HG changeset patch
# User igerasim
# Date 1534360336 25200
#      Wed Aug 15 12:12:16 2018 -0700
# Node ID b965edac64adde5831d1aa082e96add4b163d7ea
# Parent  d3a211e0cceda2ff5ed755a612d97110ac0d0cb5
8199156: Better route routing
Reviewed-by: igerasim, mschoene, michaelm, rhalade

diff -r d3a211e0cced -r b965edac64ad src/solaris/native/java/net/net_util_md.c
--- openjdk/jdk/src/solaris/native/java/net/net_util_md.c	Fri Aug 10 13:23:09 2018 +0100
+++ openjdk/jdk/src/solaris/native/java/net/net_util_md.c	Wed Aug 15 12:12:16 2018 -0700
@@ -606,6 +606,8 @@
 
                 if (loRoutesTemp == 0) {
                     free(loRoutes);
+                    loRoutes = NULL;
+                    nRoutes = 0;
                     fclose (f);
                     return;
                 }
